<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{giftorder/layout}">
<head>
    <title>ì£¼ë¬¸ ì™„ë£Œ</title>
</head>
<body>
<div layout:fragment="content" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: calc(100vh - 70px); display: flex; align-items: center; justify-content: center; padding: 20px;">
    <div class="complete-container">
        <div class="success-icon">ğŸ‰</div>

        <h1 class="success-title">ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h1>
        <p class="success-subtitle">
            ì„ ë¬¼ì„¸íŠ¸ ì£¼ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
            ì†Œì¤‘í•œ ë¶„ê»˜ ì „í•´ì§ˆ ì„ ë¬¼ì„ ì •ì„±ê» ì¤€ë¹„í•˜ê² ìŠµë‹ˆë‹¤.
        </p>

        <!-- ì£¼ë¬¸ë²ˆí˜¸ -->
        <div class="order-number">
            <div class="order-number-label">ì£¼ë¬¸ë²ˆí˜¸</div>
            <div class="order-number-value" th:text="${order.orderNumber}">ORD-20250713-001</div>
        </div>

        <!-- ì£¼ë¬¸ ì •ë³´ -->
        <div class="order-info">
            <div class="info-title">ğŸ“‹ ì£¼ë¬¸ ì •ë³´</div>

            <div class="info-row">
                <span class="info-label">ì£¼ë¬¸ì¼ì‹œ</span>
                <span class="info-value" th:text="${#temporals.format(order.orderDate, 'yyyy-MM-dd HH:mm')}">
                        2024-07-13 14:30
                    </span>
            </div>

            <div class="info-row">
                <span class="info-label">ì£¼ë¬¸ì</span>
                <span class="info-value" th:text="${customer.name}">í™ê¸¸ë™</span>
            </div>

            <div class="info-row">
                <span class="info-label">ë°›ëŠ” ë¶„</span>
                <span class="info-value" th:text="${order.recipientName}">ê¹€ì² ìˆ˜</span>
            </div>

            <div class="info-row">
                <span class="info-label">ì—°ë½ì²˜</span>
                <span class="info-value" th:text="${order.recipientPhone}">010-9876-5432</span>
            </div>

            <div class="info-row">
                <span class="info-label">ë°°ì†¡ì§€</span>
                <span class="info-value">
                        <div th:text="${order.address}">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</div>
                        <div th:text="${order.detailAddress}">ì‚¼ì„±ë¹Œë”© 10ì¸µ</div>
                    </span>
            </div>

            <div class="info-row">
                <span class="info-label">ê²°ì œê¸ˆì•¡</span>
                <span class="info-value" th:text="${#numbers.formatInteger(order.totalAmount, 0, 'COMMA')}">80,000</span>ì›
            </div>
        </div>

        <!-- ë°°ì†¡ ì•ˆë‚´ -->
        <div class="delivery-info">
            <strong>ğŸšš ë°°ì†¡ ì•ˆë‚´</strong><br>
            ì˜ì—…ì¼ ê¸°ì¤€ 2-3ì¼ ë‚´ ë°°ì†¡ ì˜ˆì •ì…ë‹ˆë‹¤.<br>
            ë°°ì†¡ í˜„í™©ì€ ì£¼ë¬¸ë²ˆí˜¸ë¡œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>

        <!-- ì•¡ì…˜ ë²„íŠ¼ -->
        <div class="action-buttons">
            <button class="btn btn-primary" onclick="location.href='/order/status?orderNumber=' + /*[[${order.orderNumber}]]*/ 'ORD-20250713-001'">
                ë°°ì†¡ í˜„í™© í™•ì¸
            </button>

            <button class="btn btn-secondary" onclick="location.href='/products'">
                ê³„ì† ì‡¼í•‘í•˜ê¸°
            </button>
        </div>

        <!-- ê³ ê°ì„¼í„° ì•ˆë‚´ -->
        <div class="customer-service">
            ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ê³ ê°ì„¼í„°ë¡œ ì—°ë½í•´ì£¼ì„¸ìš”.<br>
            <strong>ğŸ“ 1588-1234</strong> (í‰ì¼ 9:00-18:00)
        </div>
    </div>
</div>

<script layout:fragment="scripts">
    window.addEventListener('load', function() {
        setTimeout(function() {
            document.querySelector('.success-icon').style.transform = 'scale(1.1)';
            setTimeout(function() {
                document.querySelector('.success-icon').style.transform = 'scale(1)';
            }, 200);
        }, 500);
    });

    document.querySelector('.order-number-value').addEventListener('click', function() {
        const orderNumber = this.textContent;

        if (navigator.clipboard) {
            navigator.clipboard.writeText(orderNumber).then(function() {
                alert('ì£¼ë¬¸ë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤: ' + orderNumber);
            });
        } else {
            const textArea = document.createElement('textarea');
            textArea.value = orderNumber;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            alert('ì£¼ë¬¸ë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤: ' + orderNumber);
        }
    });
</script>
</body>
</html>